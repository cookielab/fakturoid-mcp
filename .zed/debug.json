// Project-local debug tasks
//
// For more documentation on how to configure debug tasks,
// see: https://zed.dev/docs/debugger
[
	{
		"label": "Attach to Wrangler Dev",
		"adapter": "JavaScript",
		"type": "node",
		"request": "attach",
		"port": 9229,
		"address": "localhost",
		"localRoot": "$ZED_WORKTREE_ROOT",
		"remoteRoot": "/",
		"sourceMaps": true,
		"skipFiles": ["<node_internals>/**"],
		"resolveSourceMapLocations": ["$ZED_WORKTREE_ROOT/**", "!**/node_modules/**"]
	},
	{
		"label": "Launch Wrangler Dev with Debugger",
		"adapter": "JavaScript",
		"type": "node",
		"request": "launch",
		"runtimeExecutable": "pnpm",
		"runtimeArgs": ["run", "cf:dev", "--", "--inspect"],
		"cwd": "$ZED_WORKTREE_ROOT",
		"sourceMaps": true,
		"skipFiles": ["<node_internals>/**"],
		"resolveSourceMapLocations": ["$ZED_WORKTREE_ROOT/**", "!**/node_modules/**"],
		"outFiles": ["${workspaceFolder}/dist/**/*.js"]
	},
	{
		"label": "Debug TypeScript File",
		"adapter": "JavaScript",
		"type": "node",
		"request": "launch",
		"program": "$ZED_FILE",
		"skipFiles": ["<node_internals>/**"],
		"runtimeArgs": ["--loader", "tsx"],
		"cwd": "$ZED_WORKTREE_ROOT",
		"sourceMaps": true
	}
]
